<!--
FPempresa
Copyright (C) 2020  Lorenzo González

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see http://www.gnu.org/licenses/
-->
<div class="row">
    <div class="col-xs-12 form__container" >
        <form name="mainForm" id="mainForm"  ix3-form>
            <div class="row" >
                <div class="col-xs-12 ">        
                    <ix3-business-messages></ix3-business-messages>
                </div>
            </div>
            <div class="row" >
                <div class="col-xs-12 ">
                    <fieldset>
                        <legend class="form__title">Panel de control</legend>
                    </fieldset>
                </div>
            </div>
            
            
            <div class="row">
                <div class="col-xs-12   form-horizontal">
                    <div class="col-xs-12 col-sm-4  form-horizontal">
                        <div class="form-group">
                            <label for="groupByEstadistica" class="col-xs-12 col-sm-4 control-label" >Agrupado</label>
                            <div class="col-xs-12 col-sm-8">
                                <select ng-model="filters['groupByEstadistica']" id="groupByEstadistica"  name="groupByEstadistica"  class="form-control"   ng-options="groupByEstadisticaValue as groupByEstadisticaValue.descripcion for groupByEstadisticaValue in groupByEstadisticaValues track by groupByEstadisticaValue.codigo"  >
                                </select>
                            </div>
                        </div> 
                    </div>                      
                </div> 
            </div>    
            <div class="row">
                <div class="col-xs-12   form-horizontal">
                    <div class="col-xs-12 col-sm-4  form-horizontal"> 
                        <div class="form-group">
                            <label for="fechaDesde" class="col-xs-12 col-sm-4 control-label" >Desde</label>
                            <div  class="input-group col-xs-12 col-sm-8">
                                <input ng-model="filters.fechaDesde" type="text" class="form-control"  id="fechaDesde" name="fechaDesde" placeholder="fecha desde" ix3-date ix3-datepicker > 
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            </div>                     
                        </div>                     
                    </div> 
                    <div class="col-xs-12 col-sm-4  form-horizontal"> 
                        <div class="form-group">
                            <label for="fechaHasta" class="col-xs-12 col-sm-4 control-label" >Hasta</label>
                            <div  class="input-group col-xs-12 col-sm-8">                    
                                <input ng-model="filters.fechaHasta" type="text" class="form-control"  id="fechaHasta" name="fechaHasta" placeholder="fecha hasta" ix3-date ix3-datepicker > 
                                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            </div> 
                        </div> 
                    </div> 
                </div> 
            </div>
            
            <div class="row" >
                <div class="col-xs-12   form-horizontal">
                    <div class="col-xs-12 col-sm-4  form-horizontal">
                        <div class="form-group">
                            <label for="comunidadAutonoma" class="col-xs-12 col-sm-4 control-label" >Autonomía</label>
                            <div class="col-xs-12 col-sm-8">
                                <select ng-model="filters['comunidadAutonoma']" id="comunidadAutonoma" ix3-schema-property='FormacionAcademica.centro.direccion.municipio.provincia.comunidadAutonoma' name="comunidadAutonoma"  name="comunidadAutonoma" class="form-control" ix3-options="ix3OrderBy:'descripcion'"    >
                                    <option value="">-- Elige Opcion --</option>
                                </select>
                            </div>
                        </div> 
                    </div> 
                    <div class="col-xs-12 col-sm-4  form-horizontal">
                        <div class="form-group">
                            <label for="provincia" class="col-xs-12 col-sm-4  control-label" ix3-label ></label>
                            <div class="col-xs-12 col-sm-8">
                                <select ng-model="filters['provincia']" id="provincia" name="provincia" class="form-control" ix3-schema-property='FormacionAcademica.centro.direccion.municipio.provincia' ix3-options-depend="{comunidadAutonoma:filters['comunidadAutonoma']}" ix3-options="ix3OrderBy:'descripcion'"   >
                                    <option value="">-- Elige Opcion --</option>
                                </select>
                            </div>
                        </div> 
                    </div> 
                </div>
            </div>   
            
            
            <div class="row" >   
                <div class="col-xs-12   form-horizontal">
                    <div class="col-xs-12 col-sm-4  form-horizontal">
                        <div class="form-group">
                            <label for="familia" class="col-xs-12 col-sm-4   control-label" ix3-label ></label>
                            <div class="col-xs-12 col-sm-8 ">
                                <select ng-model="filters['familia']" id="familia" name="familia" class="form-control" ix3-schema-property='FormacionAcademica.ciclo.familia' ix3-options="ix3OrderBy:'descripcion'"  >
                                    <option value="">-- Elige Opcion --</option>
                                </select>
                            </div>
                        </div>  
                    </div>      
                    <div class="col-xs-12 col-sm-4  form-horizontal">
                        <div class="form-group">
                            <label for="grado" class="col-xs-12 col-sm-4  control-label" ix3-label ></label>
                            <div class="col-xs-12 col-sm-8">
                                <select ng-model="filters['grado']" id="grado" name="grado" class="form-control" ix3-schema-property='FormacionAcademica.ciclo.grado' ix3-options="ix3OrderBy:'descripcion'"  >
                                    <option value="">-- Elige Opcion --</option>
                                </select>
                            </div>
                        </div>                     
                    </div>      

                    <div class="col-xs-12 col-sm-4  form-horizontal">
                        <div class="form-group">
                            <label for="ciclo" class="col-xs-12 col-sm-4  control-label" ix3-label ></label>
                            <div class="col-xs-12 col-sm-8">
                                <select ng-model="filters['ciclo']" id="ciclo" name="ciclo" class="form-control" ix3-schema-property='FormacionAcademica.ciclo' ix3-options-depend="{familia:filters['familia'],grado:filters['grado']}" ix3-options="ix3OrderBy:'descripcion'" >
                                    <option value="">-- Elige Opcion --</option>
                                </select>
                            </div>
                        </div>                 
                    </div>  
                </div>  
            </div>              
            <div class="row" >
                <div class="col-xs-12 ">
                    <div class="form-group">
                        <button type="button" class="btn form__button form__button--primary " ng-click="buttonMostrar()">Mostrar</button>
                    </div>
                </div>
            </div> 
            
            <div class="row" >
                <div class="col-xs-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-shopping-cart"></i>&nbsp;&nbsp;&nbsp;{{chartOfertas.sumDataValues | number}} ofertas</h3>
                        </div>
                        <div class="panel-body">
                            <canvas fpe-simple-bar-chart title=""  title-y="{{chartOfertas.yLabel}}" title-x="{{chartOfertas.xLabel}}" serie="chartOfertas.dataValues"></canvas>
                        </div>
                    </div>                    
                </div>
            </div> 
            <div class="row" >
                <div class="col-xs-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-archive"></i>&nbsp;&nbsp;&nbsp;{{chartCandidatos.sumDataValues | number}} candidatos</h3>
                        </div>
                        <div class="panel-body">
                            <canvas fpe-simple-bar-chart title=""  title-y="{{chartCandidatos.yLabel}}" title-x="{{chartCandidatos.xLabel}}" serie="chartCandidatos.dataValues"></canvas>
                        </div>
                    </div>                    
                </div>
            </div> 
            <div class="row" >
                <div class="col-xs-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-building"></i>&nbsp;&nbsp;&nbsp;{{chartEmpresas.sumDataValues | number}} empresas</h3>
                        </div>
                        <div class="panel-body">
                            <canvas fpe-simple-bar-chart title=""  title-y="{{chartEmpresas.yLabel}}" title-x="{{chartEmpresas.xLabel}}" serie="chartEmpresas.dataValues"></canvas>
                        </div>
                    </div>                    
                </div>
            </div>           
            <div class="row" >
                <div class="col-xs-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-building"></i>&nbsp;&nbsp;&nbsp;{{chartCentros.sumDataValues | number}} centros</h3>
                        </div>
                        <div class="panel-body">
                            <canvas fpe-simple-bar-chart title=""  title-y="{{chartCentros.yLabel}}" title-x="{{chartCentros.xLabel}}" serie="chartCentros.dataValues"></canvas>
                        </div>
                    </div>                    
                </div>
            </div>            
            <div class="row" >
                <div class="col-xs-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title"><i class="fa fa-building"></i>&nbsp;&nbsp;&nbsp;{{chartTitulados.sumDataValues | number}} titulados</h3>
                        </div>
                        <div class="panel-body">
                            <canvas fpe-simple-bar-chart title=""  title-y="{{chartTitulados.yLabel}}" title-x="{{chartTitulados.xLabel}}" serie="chartTitulados.dataValues"></canvas>
                        </div>
                    </div>                    
                </div>
            </div>            
        </form>
    </div>
</div>



<div class="row">
    <div class="col-xs-12 form__container" >
        <div>
            <ix3-business-messages></ix3-business-messages>
            <form name="mainForm" id="mainForm"  ix3-form>
                <fieldset>
                    <legend class="form__title">Oferta</legend>
                    <br>
                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label  class="col-xs-3  control-label" >Empresa</label>
                                <div  class="input-group col-xs-9" ng-click="buscarEmpresa()" style="cursor: pointer">
                                    <span class="input-group-addon"  ><i class="glyphicon glyphicon-search"></i></span>
                                    <input ng-model="model.empresa.nombreComercial" class="form-control" type="text" ng-keypress="buscarEmpresa()"  ng-readonly="true" placeholder="Seleccione la empresa que ofrece la oferta" style="background-color: #FFFFFF;cursor: pointer" />
                                </div> 
                            </div> 
                        </div>
                    </div>
                    <div class="row" ng-show="model.empresa.centro!==null">
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="empresa.centro" class="col-xs-3  control-label" ix3-label></label>
                                <div class="col-xs-9 ">
                                    <input ng-model="model.empresa.centro" type="text" class="form-control" id="empresa.centro" name="empresa.centro" readonly=""  ix3-validation>
                                </div>
                            </div> 
                        </div>
                    </div>
                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="puesto" class="col-xs-3  control-label" ix3-label></label>
                                <div class="col-xs-9 ">
                                    <input ng-model="model.puesto" type="text" class="form-control" id="puesto" name="puesto"  ix3-validation>
                                </div>
                            </div> 
                        </div>
                    </div>

                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="descripcion" class="col-xs-3  control-label" ix3-label></label>
                                <div class="col-xs-9">
                                    <textarea ng-model="model.descripcion" class="form-control" rows="7"  id="descripcion" name="descripcion"  ix3-validation></textarea>
                                </div>
                            </div> 
                        </div>
                    </div>  
                    <div class="row" >
                        <div class="col-xs-12 col-xs-12 col-xs-offset-3  form-horizontal">
                            <div class="checkbox">
                                <label>
                                    <input ng-model="model.cerrada" type="checkbox" >
                                    Oferta cerrada. Ya no se permitir&aacute; a&ntilde;adir nuevos candidatos.
                                </label>
                            </div>
                        </div> 
                    </div>                     
                    <br>
                    <legend class="form__title">Municipio del lugar de trabajo</legend>
                    <div class="row" >
                        <div class="col-xs-12 col-sm-6  form-horizontal">
                            <div class="form-group">
                                <label for="municipio.provincia" class="col-xs-3 col-sm-6 control-label" ix3-label></label>
                                <div class="col-xs-9 col-sm-6">
                                    <select ng-model="model.municipio.provincia" id="municipio.provincia" name="municipio.provincia" class="form-control" ix3-options="orderBy:'descripcion'" ix3-validation >
                                        <option value="">-- Elige Opcion --</option>
                                    </select>
                                </div>
                            </div> 
                        </div>
                        <div class="col-xs-12 col-sm-6  form-horizontal">
                            <div class="form-group">
                                <label for="municipio" class="col-xs-3 col-sm-6 control-label" ix3-label></label>
                                <div class="col-xs-9 col-sm-6">
                                    <select ng-model="model.municipio" id="municipio" name="municipio" class="form-control" ix3-options="orderBy:'descripcion'"  ix3-validation ix3-options-depend="{provincia:model.municipio.provincia}" >
                                        <option value="">-- Elige Opcion --</option>
                                    </select>
                                </div>
                            </div> 
                        </div> 
                    </div> 
                    
                    <div ng-show="model.empresa.centro!==null">
                        <legend class="form__title">Datos de contacto</legend>       
                        <div class="row" >
                            <div class="col-xs-12 form-horizontal"> 
                                <div class="col-sm-9 col-sm-offset-3">
                                    <p class="form__text form__text--help">Los titulados que se inscriban en esta oferta deben necesariamente de ponerse directamente en contacto con la empresa a traves de los datos que se suministran en este campo</p>
                                </div>
                            </div> 
                        </div>                     
                        <div class="row" >
                            <div class="col-xs-12 form-horizontal"> 
                                <div class="form-group">
                                    <label for="contacto.textoLibre" class="col-sm-3  control-label" ix3-label ></label>
                                    <div class="col-sm-9">
                                        <textarea ng-model="model.contacto.textoLibre" class="form-control" rows="4"  id="contacto.textoLibre" name="contacto.textoLibre"  ix3-validation></textarea>
                                    </div>
                                </div> 
                            </div> 
                        </div>                     
                    </div>
                    
                    <legend class="form__title">Destinado a personas de</legend>                    
                    <div class="row" >
                        <div class="col-xs-12 form-horizontal"> 
                            <div class="form-group">
                                <label for="familia" class="col-sm-3  control-label" ix3-label ></label>
                                <div class="col-sm-7">
                                    <select ng-model="model.familia" id="familia" name="familia" class="form-control" ix3-options="orderBy:'descripcion'"  >
                                        <option value="">-- Elige Opcion --</option>
                                    </select>
                                </div>
                            </div> 
                        </div> 
                    </div>    




                    <div class="row" >
                        <div class="col-xs-12  form-horizontal">
                            <div class="form-group">
                                <label class="col-xs-3  control-label"  >Ciclos</label>
                                <div class="col-xs-9">
                                    <table class="table table-bordered">
                                        <thead>                        
                                            <tr class="data-table__head">
                                                <th style="width:   1%;text-align: center"><input type="checkbox" ng-model="todosCiclos" ng-click="checkTodosCiclos(todosCiclos)"></th>
                                                <th style="width:   55%;text-align: center">Ciclo</th>
                                                <th style="width:   25%;text-align: center">Grado</th>
                                                <th style="width:   20%;text-align: center">Ley Educativa</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="ciclo in ciclos" class="data-table__row">
                                                <td ><input type="checkbox" checklist-model="model.ciclos" checklist-value="ciclo" checklist-comparator="compareCiclo"></td>
                                                <td >{{ciclo.descripcion}}</td>
                                                <td >{{ciclo.grado.toString()}}</td>                   
                                                <td >{{ciclo.leyEducativa.toString()}}</td>                             
                                            </tr>
                                        </tbody>
                                    </table> 
                                </div>
                            </div> 
                        </div> 
                    </div>  
                    <br>
                    <div class="row" ng-show="controllerAction !== 'NEW'" >
                        <div class="col-xs-12  form-horizontal">

                            <legend class="form__title">Candidatos</legend>

                            <div class="form-group">
                                <div class="col-sm-7 col-sm-offset-4 col-xs-12 ">

                                    <div class="panel panel-green">
                                        <div class="panel-heading">
                                            <div class="row">
                                                <div class="col-xs-3">
                                                    <i class="fa fa-archive fa-4x"></i>
                                                </div>
                                                <div class="col-xs-9 text-right">
                                                    <div class="section__text--size-high">{{numeroCandidatos}}</div>
                                                    <div class="section__text--size-high"><ng-pluralize count="numeroCandidatos" when="{'0': 'Ningún Candidato','1': 'Candidato','other': 'Candidatos'}"></ng-pluralize></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div> 


                            </div> 
                        </div>
                    </div>                     
                    <br>
                    <div class="row" >
                        <div class="col-xs-12 ">
                            <br>
                            <crud-detail-buttons class="pull-right" ></crud-detail-buttons>
                        </div>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>


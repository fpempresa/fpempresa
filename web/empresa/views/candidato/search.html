<!--
FPempresa
Copyright (C) 2020  Lorenzo González

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see http://www.gnu.org/licenses/
-->
<div class="row">
    <div class="col-sm-12 form__container" >
        <div>
            <legend class="form__title">Candidatos de la oferta "{{oferta.puesto}}"</legend>
            <div class="row">
                <div class="col-xs-12 col-sm-6"> 
                    <select class="form-control" ng-model="filters.maxAnyoTitulo"  id="maxAnyoTitulo" name="maxAnyoTitulo"  ng-options="anyo.anyo as anyo.descripcion for anyo in anyos"  >
                    </select>
                </div>              
                <div class="col-xs-12 col-sm-6"> 
                    <div class="checkbox">
                        <label>
                            <input ng-model="filters.ocultarRechazados" type="checkbox" >
                            Ocultar candidatos rechazados
                        </label>
                    </div>
                </div> 
            </div>                
            <br>            
            <ix3-business-messages></ix3-business-messages>

            <table class="table table-bordered table-condensed">
                <thead>                        
                    <tr class="data-table__head">
                        <th ix3-order-field-names="usuario.nombre,usuario.apellidos" style="width:   90%;text-align: center">Nombre</th>
                        <th ix3-order-field-names="fecha" style="min-width: 150px; width: 150px;text-align: center">Fecha inscripci&oacute;n</th>
                        <th style="min-width: 280px; width: 280px;text-align: center">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="candidato in models" class="data-table__row">
                        <td >
                            <i ng-if="candidato.rechazado === true" class="fa fa-times" style="color:#FF0000">&nbsp;</i>
                            <a href ng-click="verCandidato(candidato.idCandidato)">{{candidato.usuario.getNombreCompleto()}}</a>                                   
                            <p class="profile__value profile__value--cita">{{candidato.usuario.titulado.resumen}}</p></td>                            
                        <td >{{candidato.fecha| ix3Date}}</td>                            
                        <td >
                            <a ng-href="{{ix3Configuration.server.api}}/Candidato/{{candidato.idCandidato}}/curriculum.pdf" class="btn btn-xs form__button form__button--primary" >Descargar PDF curriculum <i class="fa fa-file-pdf-o"></i></a>
                            <button class="btn btn-xs form__button form__button--default" type="button" ng-click="verCandidato(candidato.idCandidato)">Ver Currículum</button>     
                        </td>                            
                    </tr>
                </tbody>
            </table>                 

            <div class="row">
                <div class="col-sm-12">
                    <ix3-pagination></ix3-pagination>
                </div>
            </div>   
        </div>
    </div>
</div>
